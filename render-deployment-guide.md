# מדריך פריסה לתוסף תרגום סטרמיו לעברית ב-Render.com

## הכנה מקדימה

1. **הירשם לחשבון ב-Render.com**:
   - היכנס ל [Render.com](https://render.com) וצור חשבון חינמי.

2. **הכנת הקוד**:
   - ודא שיש לך את כל הקבצים הנדרשים בפרויקט:
     - `addon.js` - הקוד הראשי של התוסף
     - `server.js` - השרת להפעלת התוסף (עם ה-health check)
     - `subtitle-translator.js` - שירות תרגום הכתוביות
     - `package.json` - המכיל את כל התלויות הנדרשות
     - `render.yaml` - הגדרות הפריסה ל-Render

3. **התאמת הפורט**:
   - יש לעדכן את השורה בקובץ `server.js` לשימוש במשתנה סביבה PORT במקום בפורט קשיח:

```javascript
const PORT = process.env.PORT || 7000;
router.listen(PORT, () => {
    console.log(`התוסף לתרגום לעברית פועל על פורט ${PORT}`);
});
```

## העלאת הקוד ל-GitHub

1. **צור מאגר חדש ב-GitHub**:
   - היכנס לחשבון ה-GitHub שלך.
   - צור מאגר חדש בשם `stremio-hebrew-translation`.
   - בצע את ההוראות להעלאת הפרויקט המקומי שלך למאגר החדש.

## פריסה ב-Render.com

### אפשרות 1: פריסה אוטומטית באמצעות קובץ render.yaml

1. **חבר את ה-GitHub למשתמש Render שלך**:
   - היכנס ל-Render.com והיכנס לחשבון שלך.
   - לחץ על "New" ובחר "Blueprint".
   - בחר את מאגר ה-GitHub שלך.
   - Render ידע לקרוא באופן אוטומטי את קובץ ה-`render.yaml` ולהגדיר את השירות.

### אפשרות 2: פריסה ידנית

1. **צור שירות חדש**:
   - היכנס לחשבון Render שלך.
   - לחץ על "New" ובחר "Web Service".
   - חבר את ה-GitHub שלך (אם לא עשית זאת עדיין).
   - בחר את מאגר התוסף.

2. **הגדר את השירות**:
   - תן לשירות שם (לדוגמה: "stremio-hebrew-translation").
   - השאר את סביבת הריצה כ-"Node".
   - הגדר את פקודת הבנייה: `npm install`.
   - הגדר את פקודת ההפעלה: `node server.js`.
   - בחר את התוכנית החינמית.
   - לחץ על "Create Web Service".

## אחרי הפריסה

1. **בדוק את השירות**:
   - Render יספק לך כתובת URL בתבנית כמו `https://stremio-hebrew-translation.onrender.com`.
   - גש ל-`https://stremio-hebrew-translation.onrender.com/health` כדי לוודא שהשירות פועל.
   - גש ל-`https://stremio-hebrew-translation.onrender.com/manifest.json` כדי לוודא שהתוסף מגיב כראוי.

2. **התקנת התוסף בסטרמיו**:
   - פתח את Stremio.
   - עבור ל"הגדרות" > "תוספים".
   - לחץ על "התקן תוסף".
   - הכנס את כתובת ה-URL של השירות שלך עם `/manifest.json` בסופה:
     `https://stremio-hebrew-translation.onrender.com/manifest.json`

## מעקב וניטור

1. **לוחות מחוונים של Render**:
   - Render מספק לוחות מחוונים בסיסיים לניטור השירות שלך.
   - ניתן לראות את יומני השרת (logs) ישירות מממשק המשתמש של Render.

2. **התראות**:
   - Render יספק לך התראות אם השירות נופל או אם ישנן בעיות קריטיות.

## שיקולי ביצועים

1. **שרת "ישן" בתוכנית החינמית**:
   - בתוכנית החינמית של Render, השירות יישן (spin down) לאחר 15 דקות של חוסר פעילות.
   - הבקשה הראשונה אחרי תקופת שינה תהיה איטית יותר.

2. **מגבלות תרגום**:
   - שים לב שהתוכנית משתמשת ב-Google Translate API חינמית, שיש לה מגבלות בקשות.
   - אם התוסף יהפוך לפופולרי, ייתכן שתצטרך לשדרג לפתרון תרגום אחר או להוסיף הגבלות קצב.
